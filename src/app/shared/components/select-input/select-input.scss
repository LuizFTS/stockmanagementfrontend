@use '../../../../styles/mixins' as mix;

.select {
  /* Variáveis opcionais para estilo mais consistente */
  --sel-bg: var(--bg-color);
  --sel-border: var(--border-color);
  --sel-hover: var(--hover-color);
  --sel-radius: 8px;
  --sel-padding: 10px 10px;
  --sel-shadow: 0 4px 14px rgba(0, 0, 0, 0.08);
  --sel-font-size: 14px;
  --focus-ring: rgba(var(--primary-color-l), 0.35);

  position: relative;
  width: 100%;
  cursor: pointer;

  border-radius: var(--sel-radius);
  transition: box-shadow 0.2s;
  border: 1px solid var(--sel-border);
  box-shadow: 0 0 0 3px var(--focus-ring);

  transition:
    border-color 0.2s,
    box-shadow 0.2s;

  &:focus {
    outline: none;
    border-color: var(--primary-color-l);
    box-shadow: 0 0 2px 1px var(--primary-color-l);
  }

  /* Campo selecionado */
  &__selected {
    @include mix.flex-center;
    justify-content: space-between;
    width: 100%;
    height: 38px;
    padding: var(--sel-padding);
    border-radius: inherit;
    background-color: var(--sel-bg);
    border: none;

    &:hover {
      border-color: var(--primary-color-l);
    }

    &.active {
      border-color: var(--primary-color-l);
      box-shadow: 0 0 0 3px rgba(90, 103, 216, 0.15);

      mat-icon {
        @include mix.flex-center;

        transform: rotate(180deg);
      }
    }

    mat-icon {
      @include mix.flex-center;
      font-size: 18px;
      transition: transform 0.25s ease;
    }

    span {
      @include mix.flex-center;
      font-size: var(--sel-font-size);
    }
  }

  /* Lista de opções */
  &__options {
    display: none;
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    width: 100%;
    background-color: var(--sel-bg);
    border: 1px solid var(--sel-border);
    border-radius: var(--sel-radius);
    box-shadow: var(--sel-shadow);
    list-style: none;
    padding: 6px 0;
    max-height: 180px;
    overflow-y: auto;
    transform-origin: top;
    pointer-events: none;

    &.active {
      display: block;
      pointer-events: auto;
    }

    li {
      padding: 10px 14px;
      font-size: var(--sel-font-size);
      transition:
        background 0.15s,
        color 0.15s;

      &.focused,
      &:hover {
        background-color: var(--sel-hover);
      }
    }
  }

  &.open-up .select__options {
    bottom: calc(100% + 4px);
    top: auto;
    transform-origin: bottom;
  }

  /* Select original desativado */
  select {
    display: none;
  }
}
