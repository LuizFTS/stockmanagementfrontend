<div class="main">
  <div class="main__title">
    <h1>Fornecedores</h1>
  </div>
  @if (messageDisplayed.message.length > 0) {
    <stk-message-notification
      [message]="messageDisplayed.message"
      [status]="messageDisplayed.status"
    />
  }

  <stk-card [padding]="2">
    <form class="container" [formGroup]="updateForm" (ngSubmit)="onUpdateSupplier()">
      <stk-back-button (click)="navigate('/suppliers')" />
      <div class="container__title">
        <h2>Atualizar cadastro do fornecedor</h2>
      </div>
      <stk-text-input
        type="text"
        id="phone"
        label="Digite o telefone *"
        [control]="updateForm.get('phone')"
        [errorMessages]="{
          required: 'Celular é obrigatório',
        }"
      />
      <stk-text-input
        type="text"
        id="email"
        label="Digite o email *"
        [control]="updateForm.get('email')"
        [errorMessages]="{
          required: 'E-mail é obrigatório',
          email: 'E-mail inválido',
        }"
      />
      <div class="container__btns">
        <stk-button
          [loading]="isDeactivating"
          [disabled]="updateForm.invalid"
          [type]="'button'"
          (click)="deactivate()"
          [size]="0"
          [model]="2"
          >Desativar
        </stk-button>
        <stk-button
          [loading]="isUpdating"
          [disabled]="updateForm.invalid"
          [type]="'submit'"
          [model]="1"
          [size]="0"
          >Atualizar
        </stk-button>
      </div>
    </form>
  </stk-card>
</div>
