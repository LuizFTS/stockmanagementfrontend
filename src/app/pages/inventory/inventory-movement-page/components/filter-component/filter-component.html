<form class="form" [formGroup]="searchProductForm" (ngSubmit)="onSubmit()">
  <div>
    <stk-search-input
      placeholder="Pesquisar por nome do produto"
      [autocompleteFn]="productService.autocomplete.bind(productService)"
      (searchChange)="onSearch($event)"
      [form]="searchProductForm"
      name="search"
      [hasButton]="false"
    />

    <div class="form__container">
      <div>
        <div class="form__container__period">
          <div class="form__container__period-start">
            <p>Período inicial</p>
            <div class="form__container__period-start__selects">
              <stk-select-input
                [selectedOption]="monthStart"
                [options]="months"
                (optionSelected)="selectMonthStart($event)"
              />
              <stk-select-input
                [selectedOption]="yearStart"
                [options]="years"
                (optionSelected)="selectYearStart($event)"
              />
            </div>
          </div>

          <div class="form__container__period-end">
            <p>Período final</p>
            <div class="form__container__period-end__selects">
              <stk-select-input
                [selectedOption]="monthEnd"
                [options]="months"
                (optionSelected)="selectMonthEnd($event)"
              />
              <stk-select-input
                [selectedOption]="yearEnd"
                [options]="years"
                (optionSelected)="selectYearEnd($event)"
              />
            </div>
          </div>
        </div>
        @if (searchProductForm.hasError('periodNotValid')) {
          <div class="error-text">Período final deve ser maior que o período inicial</div>
        }
      </div>

      <stk-button type="submit" [loading]="isLoading" [disabled]="this.searchProductForm.invalid"
        >Consultar</stk-button
      >
    </div>
  </div>
</form>
