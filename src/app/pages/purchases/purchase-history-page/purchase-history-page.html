<stk-list-page-layout
  [autoCompleteService]="supplierService"
  title="Compras"
  subtitle="HistÃ³rico de compras"
  [searchForm]="searchForm"
  searchPlaceholder="Digite o nome ou CNPJ"
  searchName="search"
  [hasAddButton]="false"
  [page]="currentPage"
  [pageSize]="pageSize"
  [totalItems]="totalItems"
  (searchChange)="onSearch($event)"
  (pageChange)="changePage($event)"
  (pageSizeChange)="changePageSize($event)"
>
  @if (isLoading) {
    @for (item of [1, 2, 3, 4, 5]; track item) {
      <stk-item-skeleton [index]="$index" />
    }
  } @else {
    @for (purchase of filteredPurchases; track $index; let i = $index) {
      <stk-transaction-item
        [id]="purchase.id"
        [date]="purchase.createdAt"
        [nameInfo]="{ type: 'Fornecedor', name: purchase.supplier.name }"
        [value]="purchase.totalValue"
        [index]="i"
      />
    }
    @if (filteredPurchases.length === 0) {
      <stk-itens-not-found text="Nenhuma compra encontrado" />
    }
  }
</stk-list-page-layout>
